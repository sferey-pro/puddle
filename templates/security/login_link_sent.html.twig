{% extends 'security/base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body_id 'login' %}

{% block body %}
    <div class="container my-5">
        <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
        <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
            <h1 class="display-4 fw-bold lh-1 text-body-emphasis">Bonjour ! </h1>
            <p class="lead">Vérifiez vos courriels à l'adresse <span class="mark">{{ email }}</span>, <br>un lien magic vient de vous être envoyé</p>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">

            </div>
        </div>
        <div class="col-lg-4 offset-lg-1 p-0 fs-1" {{ stimulus_controller('countdown', { 'timeLeft': 5, 'callbackFunctionName': 'enabledForm', 'callbackIdentifier': 'disable'}) }}>
            <form action="{{ path('app_login_link') }}" method="POST" {{ stimulus_controller('disable', {'withEnabled': "Resend E-mail", 'withDisabled': 'Wait...','disabled': true}) }} {{ stimulus_target('countdown', 'callback') }}>
                <input type="hidden" name="_username" value="{{ email }}">
                <input class="btn btn-primary" type="submit" value="" />
                <span class="p-4 fs-3" {{ stimulus_target('countdown', 'timer') }}></span>
            </form>
        </div>
        </div>
    </div>
{% endblock %}
