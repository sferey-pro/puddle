<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping">

    <embeddable name="Account\Lifecycle\Domain\State\AccountState">
        <field name="name" type="string" column="state_name" length="20" />
        <field name="reason" type="string" column="state_reason" nullable="true" />
        <field name="metadata" type="json" column="state_metadata" nullable="true" />
        <field name="changedAt" type="datetime_immutable" column="state_changed_at" />
    </embeddable>
</doctrine-mapping>
