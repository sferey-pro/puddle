{% extends '@Tabler/layout.html.twig' %}

{% block body_id 'profile_index' %}

{% block title %}
    Détails : {{ user ? costItem.name : 'Poste de coût' }}
{% endblock %}

{% block page_pretitle %}Poste de Coût{% endblock %}
{% block page_title %}{{ costItem ? costItem.name : 'Détails' }}{% endblock %}

{% block page_title_actions %}

{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-lg-4">
            <div class="card card-profile">
                <div class="card-header" style="background-image: url(https://via.placeholder.com/640x240);"></div>
                <div class="card-body text-center">
                    <img class="avatar avatar-xl avatar-rounded mb-3" src="{{ user.avatarUrl ?: 'https://via.placeholder.com/150' }}">
                    <h3 class="mb-3">{{ user.displayName }}</h3>
                    <p class="mb-4">
                        {{ user.firstName }} {{ user.lastName }}
                    </p>
                    <a href="{{ path('profile_edit') }}" class="btn btn-primary">
                        <twig:ux:icon name="tabler:edit" class="me-2" /> Edit Profile
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title">Profile Information</h3>
                    <dl class="row">
                        <dt class="col-sm-3">Username:</dt>
                        <dd class="col-sm-9">{{ user.username }}</dd>

                        <dt class="col-sm-3">Email:</dt>
                        <dd class="col-sm-9">{{ user.email }}</dd> {# Note: email comes from Auth context but is in the UserView #}

                        <dt class="col-sm-3">Address:</dt>
                        <dd class="col-sm-9">{{ user.address|default('N/A') }}</dd>

                        <dt class="col-sm-3">Status:</dt>
                        <dd class="col-sm-9"><span class="badge bg-{{ user.status == 'active' ? 'success' : 'secondary' }}-lt">{{ user.status|capitalize }}</span></dd>

                        <dt class="col-sm-3">Member since:</dt>
                        <dd class="col-sm-9">{{ user.createdAt|date('F j, Y') }}</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
